{% load staticfiles %}
<!DOCTYPE html>
<html class="no-js lt-ie9 lt-ie8 lt-ie7">
<html class="no-js lt-ie9 lt-ie8">
<html class="no-js lt-ie9">
<html class="no-js">
<head>

  {% include "app/html_templates/header/headerTemplate.html" %}

  {% comment %}
    {% load compile_static %}
    <link rel="stylesheet" href="{% static 'app/assets/sass/style.scss'|compile %}"/>
  {% endcomment %}

  <script>
    $(document).ready(function(){
      $('[data-show="tooltip"]').tooltip();
    });
  </script>

  <script>
    {% if product.provider.is_visible %}
    function provider() {
      location.href = "{%  url 'app:provider_profile' product.provider.providerprofile.url_name %}"
    }
    {% endif %}

    function start() {
      location.href = "/"
    }
  </script>
  <script>
    $.post( "/updatepagehistory", { lastpage: "{{request.META.HTTP_REFERER}}", csrfmiddlewaretoken: "{{ csrf_token }}"} );
  </script>

  <!--tags needed for angular material selects-->
  <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.css">
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-animate.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-aria.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-messages.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.js"></script>

</head>


<body ng-app="selectDemoOptGroups">

{% include "app/html_templates/header/navbarHeader.html" with navInfo='product'%}

<section id="fh5co-page" data-section="home"
         style="background-image: url({% static 'app/assets/images/full_image_1.jpg' %});"
         data-stellar-background-ratio="0.5">
  <div>
    <div class="text-wrap">
      <div class="text-inner">
        <div class="row">
          <div class="col-md-8">
            <h1 class="text-left">product-name (old)</h1>
            <h3 class="text-left"
                style="color: #ddd; margin-top: -20px;">product-type-name (old)</h3>
          </div>
          <div class="col-md-4">
            <div class="panel panel-default pull-right"
                 style="background-color: rgba(245, 245, 245, 0.6); max-width: 200px; max-height: 150px;">
              {% if product.provider.is_visible %}
              <div class="btn">
                {% else %}
                <div class="panel-body">
                  {% endif %}
                  <img style="max-height: 100%; max-width: 100%;"
                       {% if product.provider.is_visible %}
                       onclick="provider()"
                       {% endif %}
                       src="{{ product.provider.providerprofile.logo_image.url }}"
                       alt="providerImg">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="slant"></div>
  </div>
</section>

<section id="fh5co-intro" data-section="intro" style="">
  <div>
    <div ng-controller="SelectOptGroupController" class="md-padding" ng-cloak>
      <div>
        <h1 class="md-title">Pick your pizza below</h1>
        <div layout="row">
          <md-input-container style="margin-right: 10px;">
            <label>Size</label>
            <md-select ng-model="size">
              <md-option ng-repeat="size in sizes" value="{{size}}">{{size}}</md-option>
            </md-select>
          </md-input-container>
          <md-input-container>
            <label>Topping</label>
            <md-select ng-model="selectedToppings" multiple>
              <md-optgroup label="Meats">
                <md-option ng-value="topping.name" ng-repeat="topping in toppings | filter: {category: 'meat' }">{{topping.name}}</md-option>
              </md-optgroup>
              <md-optgroup label="Veggies">
                <md-option ng-value="topping.name" ng-repeat="topping in toppings | filter: {category: 'veg' }">{{topping.name}}</md-option>
              </md-optgroup>
            </md-select>
          </md-input-container>
        </div>
      </div>
    </div>
  </div>

</section>

{% if product.image1 %}
<section id="fh5co-work" data-section="images">
  <div class="container">
    <div class="row">
      <div class="col-md-12 section-heading text-center">
        <h2 class="to-animate">Bilder</h2>
        <div class="row">
          <div class="col-md-8 col-md-offset-2 subtext to-animate">
            <h3>So sieht's aus:</h3>
          </div>
        </div>
      </div>
    </div>
    <div class="row row-bottom-padded-sm">
      <div class="col-md-4 col-sm-6 col-xxs-12">
        <a href="{{ product.image1.url }}" class="fh5co-project-item image-popup to-animate">
          <img src="{{ product.image1.url }}" alt="Image" class="img-responsive">
        </a>
      </div>
      {% if product.image2 %}
      <div class="col-md-4 col-sm-6 col-xxs-12">
        <a href="{{ product.image2.url }}" class="fh5co-project-item image-popup to-animate">
          <img src="{{ product.image2.url }}" alt="Image" class="img-responsive">
        </a>
      </div>
      {% endif %}

      <div class="clearfix visible-sm-block"></div>
      {% if product.image3 %}
      <div class="col-md-4 col-sm-6 col-xxs-12">
        <a href="{{ product.image3.url }}" class="fh5co-project-item image-popup to-animate">
          <img src="{{ product.image3.url }}" alt="Image" class="img-responsive">
        </a>
      </div>
      {% endif %}
    </div>
  </div>
</section>
{% endif %}




<section id="fh5co-testimonials" data-section="tecData">
  <div class="container">
    <div class="row">
      <div class="col-md-12 section-heading text-center">
        <h2 class="to-animate">Technische Details</h2>
        <div class="row">
          <div class="col-md-8 col-md-offset-2 subtext to-animate">
            <h3>
              Technische Daten des Produkts nach Angaben des Herstellers
            </h3>
          </div>
        </div>
      </div>
    </div>
    <div class="row">

    </div>
  </div>
</section>


{% include "app/html_templates/sections/commentSection.html" %}

<!-- Footer -->
{% include "app/html_templates/footer/footerTemplate.html" %}

{% include "app/html_templates/modals/modals.html" %}

{% if all_products %}
{% for product in all_products %}
<div class="col-md-4 col-sm-6 col-xxs-12">
  <a href="{{ product.image1.url }}" class="fh5co-project-item image-popup to-animate">
    <img src="{{ product.image1.url }}" alt="Image" class="img-responsive">
  </a>
</div>
{% endfor %}
{% endif %}

<!--script for angular selects-->
<script type="text/javascript">
  angular
    .module('selectDemoOptGroups', ['ngMaterial'])
    .controller('SelectOptGroupController', function($scope) {
      $scope.sizes = [
        "small (12-inch)",
        "medium (14-inch)",
        "large (16-inch)",
        "insane (42-inch)"
      ];
      $scope.toppings = [
        { category: 'meat', name: 'Pepperoni' },
        { category: 'meat', name: 'Sausage' },
        { category: 'meat', name: 'Ground Beef' },
        { category: 'meat', name: 'Bacon' },
        { category: 'veg', name: 'Mushrooms' },
        { category: 'veg', name: 'Onion' },
        { category: 'veg', name: 'Green Pepper' },
        { category: 'veg', name: 'Green Olives' }
      ];
      $scope.selectedToppings = [];
      $scope.printSelectedToppings = function printSelectedToppings() {
        var numberOfToppings = this.selectedToppings.length;
        // If there is more than one topping, we add an 'and'
        // to be gramatically correct. If there are 3+ toppings
        // we also add an oxford comma.
        if (numberOfToppings > 1) {
          var needsOxfordComma = numberOfToppings > 2;
          var lastToppingConjunction = (needsOxfordComma ? ',' : '') + ' and ';
          var lastTopping = lastToppingConjunction +
            this.selectedToppings[this.selectedToppings.length - 1];
          return this.selectedToppings.slice(0, -1).join(', ') + lastTopping;
        }
        return this.selectedToppings.join('');
      };
    });
</script>
</body>
</html>