<md-step label="Spezifisch" md-complete="vm.stepData[2].data.completed"
         ng-disabled="vm.stepProgress < 3">

  <md-step-body>
    <form name="step1" ng-submit="vm.submitCurrentStep(vm.stepData[2].data)">
      <md-content class="md-padding">
        <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">

          <div class="carousel-inner" role="listbox">
            {% for item in current_scenario.scenario_product_set.products.all %}
            {% if forloop.counter == 1 %}
            <div class="item active" style="margin-left: 50px; margin-right: 50px;">
              {% endif%}
              <a href="{% url 'app:product' item.pk %}">
                <div class="col-md-4">
                  <div class="card" style="background-color:white; border-radius:5px">
                    <div class="card-block" style="padding-top:10px; padding-bottom:10px">
                      <h4 class="card-title" style="text-align:center; margin-bottom:0">{{ item.name }}</h4>
                      <h6 class="card-subtitle text-muted" style="text-align:center; margin-bottom:0">{{ item.provider
                        }}</h6>
                    </div>
                    <div style="height: 250px;">
                      <img src="{{ item.image1.url }}" alt="" class="center-block"
                           style="max-height: 95%; max-width: 95%;">
                    </div>
                  </div>
                </div>
              </a>
              {% if forloop.counter == current_scenario.scenario_product_set.products.all|length %}
            </div>
            {% elif forloop.counter|divisibleby:3 %}
          </div>
          <div class="item" style="margin-left: 50px; margin-right: 50px;">
            {% endif %}
            {% endfor %}
          </div>

        </div>
        <div class="col-sm-6" layout="column" layout-align="space-around start">

          <table>
            <tr>
              <td>
                cell 1
              </td>
              <td>
                cell 2
              </td>
            </tr>
          </table>


          <table style="border: 1px solid black;">
            {% if qs_category_specific %}

            {% for questionstep in qs_category_specific %}

            {% for questionset in questionstep.question_steps.all %}

            <!-- TODO table wenn counter = 0, dann <tr> vor dem block -->
            <!-- TODO wenn counter = 1, dann </tr> nach dem block -->

            <script type="text/javascript">
              function even() {
                console.log("even counter");
              }

              function uneven() {
                console.log("uneven counter");
              }
            </script>

            {% if forloop.counter == 1 %}
            <script type="text/javascript">
              even();
            </script>

            <tr>
              <td>
                <div flex style="margin-left: 10px;">
                  <div flex>
                    <h3>{{ questionset.name }}</h3>
                    {% for question in questionset.question.all %}
                    <h4>{{ question.question_text }}</h4>

                    <div flex>
                      {% if question.answer_presentation == 'rc' %}
                      <md-radio-group ng-model="vm.stepData[2].data.accommodation_name">
                        {% for answer in question.answer_set.all %}
                        <md-radio-button value='{{ answer.pk }}'>{{ answer.answer_text }}</md-radio-button>
                        {% endfor %}
                      </md-radio-group>
                      {% elif question.answer_presentation == 'mc' %}
                      <md-checkbox-group layout="column">
                        {% for answer in question.answer_set.all %}
                        <md-checkbox ng-model="vm.stepData[2].data.question{{ question.pk }}.answer{{ answer.pk }}"
                                     value='{{ answer.pk }}'>{{ answer.answer_text }}
                        </md-checkbox>
                        {% endfor %}
                      </md-checkbox-group>
                      {% elif question.answer_presentation == 'dc' %}
                      <md-input-container>
                        <md-select ng-model="someModel" placeholder="Select a state">
                          {% for answer in question.answer_set.all %}
                          <md-option value='{{ answer.pk }}'>{{ answer.answer_text }}</md-option>
                          {% endfor %}
                        </md-select>
                      </md-input-container>
                      {% elif question.answer_presentation == 'sc' %}
                      <!-- INPUT SLIDER HERE -->
                      {% elif question.answer_presentation == 'rs' %}
                      <!-- INPUT RANGE SLIDER HERE -->
                      {% endif %}
                    </div>
                  </div>
                  {% endfor %}
                </div>
              </td>

              {% else %}
              <script type="text/javascript">
                uneven();
              </script>

              <td>
                <div class="column" flex style="margin-left: 10px;">
                  <div flex>
                    <h3>{{ questionset.name }}</h3>
                    {% for question in questionset.question.all %}
                    <h4>{{ question.question_text }}</h4>
                  </div>
                  <div flex>
                    {% if question.answer_presentation == 'rc' %}
                    <md-radio-group ng-model="vm.stepData[2].data.accommodation_name">
                      {% for answer in question.answer_set.all %}
                      <md-radio-button value='{{ answer.pk }}'>{{ answer.answer_text }}</md-radio-button>
                      {% endfor %}
                    </md-radio-group>
                    {% elif question.answer_presentation == 'mc' %}
                    <md-checkbox-group layout="column">
                      {% for answer in question.answer_set.all %}
                      <md-checkbox ng-model="vm.stepData[2].data.question{{ question.pk }}.answer{{ answer.pk }}"
                                   value='{{ answer.pk }}'>{{ answer.answer_text }}
                      </md-checkbox>
                      {% endfor %}
                    </md-checkbox-group>
                    {% elif question.answer_presentation == 'dc' %}
                    <md-input-container>
                      <md-select ng-model="someModel" placeholder="Select a state">
                        {% for answer in question.answer_set.all %}
                        <md-option value='{{ answer.pk }}'>{{ answer.answer_text }}</md-option>
                        {% endfor %}
                      </md-select>
                    </md-input-container>
                    {% elif question.answer_presentation == 'sc' %}
                    <!-- INPUT SLIDER HERE -->
                    {% elif question.answer_presentation == 'rs' %}
                    <!-- INPUT RANGE SLIDER HERE -->
                    {% endif %}
                  </div>
                </div>

                {% endfor %}
              </td>
            </tr>
            {% endif %}


            {% endfor %}

            {% endfor %}

            {% else %}
            <h2>FUCK THIS</h2>
            {% endif %}
          </table>

        </div>
      </md-content>
      <md-step-actions layout="row">
        <div flex layout="row" layout-align="end top">
          <md-button class="md-warn">ABBRECHEN</md-button>
          <md-button type="submit"
                     ng-disabled=""
                     class="md-primary md-raised">WEITER
          </md-button>
        </div>
      </md-step-actions>
    </form>
  </md-step-body>
</md-step>
