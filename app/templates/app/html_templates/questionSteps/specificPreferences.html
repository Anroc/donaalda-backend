<md-step label="Spezifisch" md-complete="vm.stepData[2].data.completed"
         ng-disabled="vm.stepProgress < 3">

  <md-step-body>
    <form name="step1" ng-submit="vm.submitCurrentStep(vm.stepData[2].data)">
      <md-content class="md-padding">

        <div style="flex-flow: row wrap; display: flex;">
          {% if qs_category_specific %}

          {% for questionstep in qs_category_specific %}

          {% for questionset in questionstep.question_steps.all %}


          <div style="flex:1 0 45%;"
               id="preference-{{ forloop.parentloop.counter0 }}"
               ng-style="{'visibility': vm.stepData[1].data.question1.answer{{ forloop.parentloop.counter0|add:'40'}}?'visible':'hidden'}">
            <div class="column">
              <div>
                <h3>{{ questionset.name }}</h3>
                {% for question in questionset.question.all %}
                <h4>{{ question.question_text }}</h4>
                <div>
                  {% if question.answer_presentation == 'rc' %}
                  <md-radio-group ng-model="vm.stepData[2].data.question{{ question.pk }}">
                    {% for answer in question.answer_set.all %}
                    <md-radio-button value='{{ answer.pk }}'>{{ answer.answer_text }}</md-radio-button>
                    {% endfor %}
                  </md-radio-group>
                  {% elif question.answer_presentation == 'mc' %}
                  <md-checkbox-group layout="column">
                    {% for answer in question.answer_set.all %}
                    <md-checkbox ng-model="vm.stepData[2].data.question{{ question.pk }}.answer{{ answer.pk }}"
                                 value='{{ answer.pk }}'>{{ answer.answer_text }}
                    </md-checkbox>
                    {% endfor %}
                  </md-checkbox-group>
                  {% elif question.answer_presentation == 'dc' %}
                  <md-input-container>
                    <md-select ng-model="vm.stepData[2].data.question{{ question.pk }}"
                               placeholder="WÃ¤hle Bitte...">
                      {% for answer in question.answer_set.all %}
                      <md-option value='{{ answer.pk }}'>{{ answer.answer_text }}</md-option>
                      {% endfor %}
                    </md-select>
                  </md-input-container>
                  {% elif question.answer_presentation == 'sc' %}
                  <!-- INPUT SLIDER HERE -->
                  {% elif question.answer_presentation == 'rs' %}
                  <!-- INPUT RANGE SLIDER HERE -->
                  {% endif %}
                </div>

              {% endfor %}
              </div>
            </div>
          </div> <!-- spezifische fragen mit id {{ forloop.parentloop.counter0|add:'40'}}-->
            {% endfor %}
            {% endfor %}
            {% else %}
            {% endif %}
          <!--/div-->
        </div> <!-- container ended hier -->
      </md-content>
      <md-step-actions layout="row">
        <div flex layout="row" layout-align="end top">
          <md-button class="md-warn">
            ABBRECHEN
          </md-button>
          <md-button type="submit"
                     ng-disabled=""
                     class="md-primary md-raised">
            WEITER
          </md-button>
        </div>
      </md-step-actions>
    </form>
  </md-step-body>
</md-step>
