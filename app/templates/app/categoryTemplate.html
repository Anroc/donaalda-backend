{% load staticfiles %}

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.css">
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-animate.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-aria.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-messages.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.js"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'app/index-style.css' %}">


  <!-- Your application bootstrap  -->
  <script src="{% static 'md-steppers/md-steppers-master/md-steppers-master/dist/md-steppers.js' %}"></script>
  <script src="{% static 'md-steppers/md-steppers-master/md-steppers-master/dist/demo/app.js' %}"></script>

  <!-- style sheet -->
  <link rel="stylesheet" href="{% static 'md-steppers/md-steppers-master/md-steppers-master/dist/demo/style.css' %}">
  <link rel="stylesheet" href="{% static 'md-steppers/md-steppers-master/md-steppers-master/dist/md-steppers.css' %}">
  <!-- module -->

  <script src="{% static 'md-steppers/md-steppers-master/md-steppers-master/src/stepper.js' %}"></script>

  <script src="{% static 'app/index-app.js' %}"></script>

  <title>DONAALDA - Data Organising Native Ambient Assisted Living Distribution Adviser</title>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">


</head>
<body ng-app="{% block ng_app %}donaaldaApp{% endblock %}"
      ng-controller="{% block ng_controller_theme %}themeController{% endblock %}">

{% include "app/templates/scenarioToolbarTemplate.html" %}
{% include "app/templates/loginTemplate.html" %}
{% include "app/templates/registrationTemplate.html" %}
{% include "app/templates/profileTemplate.html" %}



<div style="height:100px;">

</div>



<md-content ng-controller="{% block ng_controller %}categoryController as vm{% endblock %}" layout="row" flex="nogrow" style="width: 800px; margin: 40px auto">
  <div>
    <md-card>
      <md-toolbar>
        <div class="md-toolbar-tools">
          <h2>
            <md-icon md-svg-icon="md-menu"></md-icon>
            <span>Create account</span>
          </h2>
        </div>
      </md-toolbar>
      <md-stepper-card-content class="md-no-padding">
        <md-steppers md-dynamic-height md-stretch-steppers="always" md-selected="vm.selectedStep" md-busy-text="'Processing...'" md-busy="vm.showBusyText">
          <md-step label="Login detail" md-complete="vm.stepData[0].data.completed" ng-disabled="vm.stepProgress < 1">
            <md-step-body>
              <form name="step1" ng-submit="vm.submitCurrentStep(vm.stepData[0].data)">
                <md-content class="md-padding">
                  <div layout="row" layout-align="center top">
                    <div flex="nogrow" style="width: 400px">
                      <h4>Please enter your user name and password</h4>
                      <md-input-container class="md-block">
                        <label>Your user name here</label>
                        <input ng-disabled="vm.stepData[0].data.completed" name="username" ng-model="vm.stepData[0].data.username" required />
                        <div ng-messages="step1.username.$error">
                          <div ng-message="required">
                            User name is required to proceed on next step.
                          </div>
                        </div>
                      </md-input-container>
                      <md-input-container class="md-block">
                        <label>Your password here</label>
                        <input ng-disabled="vm.stepData[0].data.completed" type="password" name="username" ng-model="vm.stepData[0].data.password" required />
                        <div ng-messages="step1.password.$error">
                          <div ng-message="required">
                            Password required to proceed on next step.
                          </div>
                        </div>
                      </md-input-container>
                    </div>
                  </div>
                </md-content>
                <md-step-actions layout="row">
                  <div flex layout="row" layout-align="end top">
                    <md-button class="md-warn">CANCEL</md-button>
                    <md-button type="submit" ng-disabled="!vm.stepData[0].data.username || !vm.stepData[0].data.password || vm.showBusyText" class="md-primary md-raised">NEXT</md-button>
                  </div>
                </md-step-actions>
              </form>
            </md-step-body>
          </md-step>
          <md-step label="Personal Info" md-complete="vm.stepData[1].data.completed" ng-disabled="vm.stepProgress < 2">
            <md-step-body>
              <form name="step2">
                <md-content class="md-padding">
                  <div layout="row" layout-align="center top">
                    <div flex="nogrow" style="width: 400px">
                      <h4>Please enter yout full name</h4>
                      <md-input-container class="md-block">
                        <label>Your first name here</label>
                        <input name="firsname" ng-model="vm.stepData[1].data.firsname"/>
                      </md-input-container>
                      <md-input-container class="md-block">
                        <label>Your last name</label>
                        <input name="lastname" ng-model="vm.stepData[1].data.lastname"/>
                      </md-input-container>
                    </div>
                  </div>
                </md-content>
                <md-step-actions layout="row">
                  <div flex>
                    <md-button ng-click="vm.moveToPreviousStep()">PREVIOUS</md-button>
                  </div>
                  <div flex layout="row" layout-align="end top">
                    <md-button class="md-warn">CANCEL</md-button>
                    <md-button ng-disabled="vm.showBusyText" ng-click="vm.submitCurrentStep(vm.stepData[1].data, !(vm.stepData[1].data.firsname && vm.stepData[1].data.lastname))" class="md-primary md-raised">
                      {% verbatim %}
                      {{ vm.stepData[1].data.firsname && vm.stepData[1].data.lastname ? 'NEXT' : 'SKIP' }}
                      {% endverbatim %}
                    </md-button>
                  </div>
                </md-step-actions>
              </form>
            </md-step-body>
          </md-step>
          <md-step label="Finish" md-complete="vm.stepData[2].data.completed" ng-disabled="vm.stepProgress < 3">
            <md-step-body>
              <form name="step2">
                <md-content class="md-padding">
                  <div layout="column" layout-align="center center" style="min-height: 200px">
                    <h4>Account created!</h4>
                    <md-button class="md-primary md-raised">GO TO DASHBOARD</md-button>
                  </div>
                </md-content>
              </form>
            </md-step-body>
          </md-step>
        </md-steppers>
      </md-stepper-card-content>
    </md-card>
  </div>
</md-content>


<div>
  <md-card ng-init="step2.disabled = true; selected = 0">
    {% verbatim %}
    <md-steppers md-selected="selected" md-stretch-steppers="always">
      <md-step label="Step 1" md-complete="step1.completed" ng-disabled="step1.disabled">
        <md-content>
          <h1>
            Einführung
          </h1>
          <md-button class="md-raised md-primary" ng-click="step2.disabled = false">Enable Step 2</md-button>
          <md-button class="md-raised md-primary" ng-click="selected = 1">NEXT</md-button>
        </md-content>
      </md-step>
      <md-step label="Step 2" md-complete="step2.completed" ng-disabled="step2.disabled">
        <md-content>
          <h1>
            Fakten
          </h1>

          <md-checkbox>Pets</md-checkbox>
          <md-checkbox>Kids</md-checkbox>
          <md-checkbox>Eigentumswohnung</md-checkbox>
          <md-checkbox>Fläche in m²</md-checkbox>
          <md-button class="md-raised md-primary" ng-click="selected = 0">PREV</md-button>
          <md-button class="md-raised md-primary" ng-click="step1.completed = true">Complete Step 1</md-button>
          <md-button class="md-raised md-primary" ng-click="selected = 2">NEXT</md-button>
        </md-content>
      </md-step>
      <md-step label="Step 2" md-complete="step2.completed" ng-disabled="step2.disabled">
        <md-content>
          <h1>
            Präferenzen
          </h1>
          <md-checkbox>Remote Control</md-checkbox>
          <md-button class="md-raised md-primary" ng-click="selected = 0">PREV</md-button>
          <md-button class="md-raised md-primary" ng-click="step1.completed = true">Complete Step 1</md-button>
          <md-button class="md-raised md-primary" ng-click="selected = 2">NEXT</md-button>
        </md-content>
      </md-step>
      <md-step label="Finish" md-complete="step3.completed" ng-disabled="step3.disabled">
        <md-content>
          <h1>
            Finish
          </h1>
        </md-content>
      </md-step>
    </md-steppers>
    {% endverbatim %}
  </md-card>
</div>


<section layout="column" layout-fill layout-margin layout-padding style="padding-top: 130px">

  <md-content class="md-padding">
    <md-grid-list md-cols-gt-md="2" md-cols-sm="2" md-cols-md="2" md-row-height="2:1" md-gutter="0px">

    {% if scenario_list_from_category %}
    {% for scenario in scenario_list_from_category %}

    <md-grid-tile>
      <md-card layout="column" layout-fill layout-margin layout-padding style="border-bottom:outset; margin:5px" >
        <md-card-header>
          <md-card-avatar>
            <md-icon class="md-avatar-icon"
                     md-svg-icon="../../../static/app/assets/resources/ic_pets_black_24px.svg"></md-icon>
          </md-card-avatar>
          <md-card-header-text>
            <span class="md-title">Title: {{scenario.name}}</span>
            <span class="md-subhead">Short Description: {{scenario.short_description}}</span>
          </md-card-header-text>
        </md-card-header>
        <md-card-title>
          <md-card-title-media>
            <div class="md-media-lg">
                <img src={{scenario.picture}} class="md-card-image" alt="Couldn't find picture">
            </div>
          </md-card-title-media>
          <md-card-title-text>
            <span style="padding-left: 5px"> Test test test test test test test test test test test test test test test {{scenario.provider}}</span>
          </md-card-title-text>
        </md-card-title>
        <!-- TODO backend: give scenario category flags to show like this -->
        <md-card-actions layout="row" layout-align="start center" style="margin:1px">
          <md-card-icon-actions>
            <md-button class="md-icon-button" aria-label="Favorite">
              <md-icon md-svg-icon="../../../static/app/assets/resources/ic_lock_black_24px.svg"></md-icon>
            </md-button>
            <md-button class="md-icon-button" aria-label="Share">
              <md-icon
                md-svg-icon="../../../static/app/assets/resources/ic_perm_scan_wifi_black_24px.svg"></md-icon>
            </md-button>
            <md-button class="md-icon-button" aria-label="Share">
              <md-icon md-svg-icon="../../../static/app/assets/resources/ic_pets_black_24px.svg"></md-icon>
            </md-button>
            <md-button class="md-icon-button" aria-label="Share">
              <md-icon
                md-svg-icon="../../../static/app/assets/resources/ic_important_devices_black_24px.svg"></md-icon>
            </md-button>
          </md-card-icon-actions>
          <!-- TODO frontend & backend: show popup / new page with the products used in the scenario -->
          <md-button href = "{% url 'app:scenario' category.name scenario.name %}">In Detail</md-button>
          <!-- TODO frontend: show question bar -->
          <!-- TODO backend: offer specific questions -->
          <!--md-button>Show questions</md-button -->
        </md-card-actions>

      </md-card>

    </md-grid-tile>

    {% endfor %}

    {% else %}
    <div>No scenarios are available</div>
    {% endif %}
      </md-grid-list>
  </md-content>
</section>
</body>
</html>